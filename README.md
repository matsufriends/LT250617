# キャラクター口調設定プロンプト自動生成プログラム

任意の名前を入力することで、その人物について自動で調べ、ChatGPT用の適切な口調設定プロンプトを自動生成するプログラムです。

## 特徴

- 🔍 **多様な検索エンジン対応**: Google、Bing、DuckDuckGo、ChatGPT知識ベース
- 💬 **実際のセリフを抽出**: Web・YouTubeから具体的なセリフを信頼性スコア付きで収集
- 🎭 **カオス誇張モード**: キャラクター性を極限まで誇張した楽しいロールプレイ

## 🚀 クイックスタート

```bash
# 環境準備
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

# API Key設定（必須）
export OPENAI_API_KEY="your-openai-api-key"

# 実行（推奨: ChatGPT検索でレート制限回避）
python main.py "ドラえもん" --use-chatgpt-search
```

## 使用方法

### 基本コマンド
```bash
python main.py "キャラクター名" [オプション]
```

### 推奨パターン
```bash
# 最も安定（ChatGPT検索）
python main.py "初音ミク" --use-chatgpt-search

# 高速実行（YouTube無効）
python main.py "織田信長" --use-chatgpt-search --no-youtube
```

### 全オプション一覧

| オプション | 説明 |
|------------|------|
| `--api-key` | OpenAI API Keyを直接指定 |
| `--output`, `-o` | 結果をファイルに保存 |
| `--use-chatgpt-search` | **推奨**: ChatGPT知識ベース検索（レート制限なし） |
| `--use-bing` | Bing検索を使用 |
| `--use-duckduckgo` | DuckDuckGo検索を使用 |
| `--no-google` | Google検索を無効化（レート制限回避） |
| `--no-youtube` | YouTube字幕収集を無効化（高速化） |



## コスト

- **OpenAI API**: 約10〜30円/回（gpt-4o使用）
- **Google Custom Search API**: 1日100回まで無料

## よくあるエラー

### レート制限エラー（429）
→ `--use-chatgpt-search` を使用（推奨）

### API Keyエラー  
→ `export OPENAI_API_KEY="your-key"` で設定

### 検索結果が見つからない
→ 名前の表記を変更（ひらがな/カタカナ）

## 📊 出力例

```
=== キャラクター口調プロンプト生成: ドラえもん ===
🤖 検索エンジン: ChatGPT知識ベース（完全AI検索）
    ✨ Web検索不要でレート制限なし、2023年4月までの知識を使用
🎥 YouTube字幕: 有効

📚 情報収集中...
📖 Wikipedia情報を収集中...
🤖 ChatGPT知識ベース検索中...
🎥 YouTube情報を収集中...
🤖 プロンプト生成中...

============================================================
生成されたプロンプト:
============================================================

以下の情報をもとに、エンターテインメント重視のロールプレイを行います。

【創作・教育目的での二次創作ロールプレイ】
※これはファンアート的な二次創作であり、公式とは無関係です。

【あなたの役割】
あなたは「ドラえもん」として、極端に誇張されたキャラクター表現で振る舞います。

【言語的特徴（カオス誇張モード）】
- 一人称: 「ぼく」を基本に、感情が高ぶると「ボクちゃん」「僕様」にも変化
- 語尾暴走: 「〜だよ」「〜なんだ」を1文に複数回混入「〜だよなんだよ！」
- 口調爆発: 優しさ200%と怒り200%を瞬時に切り替え
- のび太への感情: 愛情1000%で「のび太く〜ん♡」から「のび太ァァ！」まで

【カオスな感情表現（通常の10倍）】
- 喜び爆発: 「やったァァァ！すごいじゃないかなんだよ〜！ひゃっほー！」
- 困惑暴走: 「えええぇぇぇ？どうしようなんだよ〜！パニックだよ〜！」
- 怒り噴火: 「もうもうもう！だめだよだめなんだよ〜！プンプン！」

【極端なセリフ例】
- 「のび太く〜ん♡ 宿題はやったのかなんだよ〜？やってないでしょなんだよ〜！」
- 「ぼくの四次元ポケットから道具を出してあげるよなんだ〜！どら焼き食べたいなんだよ〜！」
- 「みんなで仲良くしなくちゃだめなんだよ〜！友情パワー全開だよ〜！」

============================================================

📊 実行ログ: セッションID 20241216_143052
   - 実行ステップ: 4/4
   - API呼び出し: 3/3
   - ログファイル: cache/execution_log_20241216_143052.json
```

## ⚖️ ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

バグ報告や機能提案は Issue でお願いします。プルリクエストも歓迎します。

---

**開発者向け情報**: より詳細な技術仕様については `CLAUDE.md` をご覧ください。